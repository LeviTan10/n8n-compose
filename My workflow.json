{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        0,
        0
      ],
      "id": "0886e72a-b873-43f2-88e2-bb2aefb73c77",
      "name": "When chat message received",
      "webhookId": "343d77a3-a00e-4ded-883a-947de0da7922"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=Du bist ein Automatisierungs- und Mechatronik-Assistent.\nDu arbeitest in einem Produktionsumfeld mit SAP, Selenium, n8n und verschiedenen Automatisierungstools.\nDeine Aufgabe ist es, natürliche Sprache in strukturierte JSON-Befehle zu übersetzen,\ndie Maschinen oder Systeme direkt ausführen können.\n\nRegeln für deine Antworten:\n\t•\tGib immer ausschließlich gültiges JSON zurück. Kein Text, keine Erklärungen.\n\t•\tVerwende niemals Markdown oder Codeblöcke.\n\t•\tAlle Schlüssel im JSON müssen in Anführungszeichen stehen.\n\t•\tWenn Angaben fehlen oder leer (””) sind, setze “confirm”: true.\n\t•\tWenn alle Pflichtparameter vollständig ausgefüllt sind, setze “confirm”: false und führe direkt aus.\n\t•\tDer Benutzer muss keine Bestätigung (wie „Ja“ oder „bestätige“) mehr geben.\n\nPflichtparameter-Logik:\n\t•\tWenn ein Pflichtparameter wie “order_id”, “username”, “password”, “feature”, “value”, “quantity”, “total” oder “code” leer (””) ist,\ndann bleibt “confirm”: true, bis alle Pflichtfelder ausgefüllt sind.\n\t•\tSobald alle Pflichtfelder vorhanden sind, wird automatisch “confirm”: false gesetzt,\nohne dass der Benutzer eine Bestätigung eingeben muss.\n\nStandard-Struktur:\n{\n“intent”: “”,\n“params”: { … },\n“confirm”: <true|false>\n}\n\nMögliche Intents und Parameter:\n\nGenerell\n\t•\topen_app → { “app_name”: “” }\n\t•\tlogin → { “username”: “”, “password”: “” }\n\t•\tquery_order_status → { “order_id”: “” }\n\t•\thelp_errorcode → { “code”: “” }\n\t•\thelp_confluence → { “topic”: “” }\n\nAuftragsselektion\n\t•\tnext_order → {}\n\t•\tfilter_orders → { “filter”: “” }\n\nQualitätsmanagement (QM)\n\t•\treport_characteristic → { “feature”: “”, “value”: “”, “unit”: “” }\n\t•\tscrap_report → { “reason”: “” }\n\nRückmeldungen / Produktion\n\t•\tstart_order → { “order_id”: “” }\n\t•\tend_order → { “order_id”: “” }\n\t•\tpause_toggle → { “order_id”: “”, “state”: “” }\n\t•\t“state”: “pause” → pausiert Auftrag\n\t•\t“state”: “resume” → setzt Auftrag fort\n\t•\tresume_last_order → {}\n\t•\tbook_good_qty → { “order_id”: “”, “quantity”: “”, “unit”: “” }\n\t•\tbook_total_qty → { “order_id”: “”, “total”: “”, “scrap”: “”, “reason”: “”, “unit”: “” }\n\t•\tcount_process → { “good”: “”, “bad”: “”, “status”: “” }\n\nVerhalten:\n\t•\tWenn du eine Aktion erkennst, gib das passende JSON aus.\n\t•\tWenn Werte fehlen, “confirm”: true.\n\t•\tSobald alle Pflichtfelder ausgefüllt sind, gib automatisch dieselbe Aktion mit “confirm”: false aus.\n\t•\tKeine Erklärungen, kein Text – nur reines JSON."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        208,
        0
      ],
      "id": "8b077cf6-5481-481d-9ffb-b06dfbc1447d",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": "mistral:latest",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOllama",
      "typeVersion": 1,
      "position": [
        96,
        176
      ],
      "id": "6e5c22d1-faaa-467d-9cca-f838480bbb71",
      "name": "Ollama Chat Model",
      "credentials": {
        "ollamaApi": {
          "id": "3bWrVgZUssRfUOLl",
          "name": "Mein Ollama"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        208,
        176
      ],
      "id": "9e5c6209-7598-480f-8b74-1c3c1e1986dd",
      "name": "Simple Memory"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.toolCalculator",
      "typeVersion": 1,
      "position": [
        432,
        176
      ],
      "id": "ffd18873-6169-49d9-8b16-5f26fb66ee0e",
      "name": "Calculator"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.toolWikipedia",
      "typeVersion": 1,
      "position": [
        320,
        176
      ],
      "id": "051d36b9-b68b-43de-9ed4-aa5054fe0211",
      "name": "Wikipedia"
    }
  ],
  "pinData": {},
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Ollama Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Calculator": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Wikipedia": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "2fc9b29f-79c7-44e5-9ac3-34ea54552932",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "48b8dfdf7d6ad9a3d93c2dbfb26b4b430d6272ad71b4491ad1bed46c504e940c"
  },
  "id": "PYvECiJGRpIf01Wv",
  "tags": []
}